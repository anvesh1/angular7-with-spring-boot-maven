<div class="wrapper">

  <app-header></app-header>

  <app-sidebar></app-sidebar>

  <div class="content-wrapper" style="min-height: 720px;">
    <section class="content-header">
      <h1 style="display:inline;">
        Notify User
        <br><small></small>
      </h1>
      <section class="content">
        <div class="row">
          <div class="col-xs-12">
            <div class="box">
              <div class="box-body">
                <div class="col-lg-12" style="margin-top: 10px">
                  <div class="col-sm-6">
                    <textarea id="notification-message" class="form-control" name="notification-message" [(ngModel)] = "notificationMessage"
                              maxlength="120" style="height: 80px;" placeholder="Enter your message."></textarea>
                  </div>
                  <div class="col-sm-6" style="margin-top: 45px">
                    <button class="btn btn-w-m btn-primary" (click)="sendNotification()">
                      <i class="fa fa-bell"></i>
                      Send Notification
                    </button>
                    <i id="notification_loader" class="fa fa-spinner fa-2x" style="font-size: 1.6em;"
                       *ngIf="notificationLoader"></i>
                  </div>
                </div>
                <div class="col-lg-12">
                  <br/><br/><br/>
                  <table class="table table-hover">
                    <tr>
                      <th [ngStyle]="{'width':'2%'}">
                        <input type="checkbox" class="customCheck" [(ngModel)]="selectedAll" (click)="checkAllNotification($event)" />
                      </th>
                      <th *ngFor = "let field of fields;index as i" [ngStyle]="{'width':field.width}">
                        <span *ngIf="field.sort">{{field.title}}</span> &nbsp;
                        <a class="pointer" *ngIf="field.sort">
                          <i class="fa fa-sort" id="fa-{{field.field}}" (click)="sortBy(field.field, $event)"></i>
                        </a>
                        <span *ngIf="!field.sort">{{field.title}}</span>
                      </th>
                    </tr>
                  </table>
                  <div class="table-overflow">
                    <table class="table">
                      <tr class="hidden-row">
                        <th [ngStyle]="{'width':'2%'}">&nbsp;</th>
                        <th *ngFor = "let field of fields;index as i" [ngStyle]="{'width':field.width}">
                          <span>&nbsp;</span> &nbsp;
                        </th>
                      </tr>
                      <ng-template ngFor let-i="index" let-userData [ngForOf]="listData" >
                        <tr>
                          <td>
                            <input type="checkbox" class="customCheck" [(ngModel)]="items[userData.id]" (click)="checkNotification($event)" />
                          </td>
                          <td>&nbsp;&nbsp;<span >{{userData['first_name']}}</span></td>
                          <td>&nbsp;&nbsp;<span >{{userData['last_name']}}</span></td>
                          <td>&nbsp;&nbsp;<span>{{userData['email_id']}}</span></td>
                          <td>&nbsp;&nbsp;&nbsp;<span>{{userData['contact_no']}}</span></td>
                          <!--
                          <td >
                            <ui-switch id="userId" [checked]="userData['status']==1 ? true : false" size="small" title="User Status" (change)="userIsActive(userData['id'],userData['email_id'],$event)" ></ui-switch>
                          </td>
                          <td >
                            <a (click)="Show(userData)"   title="View"class="btn btn-info"><i class="fa fa-eye"></i></a>
                          </td>
                          -->
                        </tr>
                      </ng-template>
                      <tr *ngIf="isListData">
                        <td colspan="6" style="text-align: center">
                          <i class="fa fa-spinner fa-spin fa-2x" ></i>
                        </td>
                      </tr>
                    </table>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
    </section>
  </div>
  <app-footer></app-footer>
</div>